@tailwind base;
@tailwind components;
@tailwind utilities;

/* CSS Custom Properties for Theming - uses Tailwind tokens */
@layer base {
  :root {
    /* Accent colors from Tailwind config - RGB format for rgba() usage */
    /* Using emerald as primary accent */
    --accent-400: 69, 147, 87;      /* emerald-400 - #459357 */
    --accent-500: 92, 178, 112;     /* emerald-500 - #5cb270 */
    --accent-600: 125, 194, 141;    /* emerald-600 - #7dc28d */
    --accent-700: 157, 209, 169;    /* emerald-700 - #9dd1a9 */
    
    /* Secondary colors - RGB format for rgba() usage */
    /* Using canary_yellow as secondary accent */
    --secondary-400: 239, 235, 39;  /* canary_yellow-400 - #efeb27 */
    --secondary-500: 244, 242, 105; /* canary_yellow-500 - #f4f269 */
    --secondary-600: 246, 244, 134; /* canary_yellow-600 - #f6f486 */
    
    /* To change accent color, update both tailwind.config.js and these values */
  }

  /* Make labels and headers unselectable */
  h1, h2, h3, h4, h5, h6,
  label,
  .select-none {
    user-select: none;
    -webkit-user-select: none;
  }

  /* Font families */
  body {
    font-family: theme('fontFamily.body');
    font-size: 16px; /* Base 16px for accessibility */
    line-height: 1.5;
    position: relative;
    min-height: 100vh;
    /* SVG background */
    background-image: url('/bg.svg');
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
    background-attachment: fixed;
  }

  /* Headings use Montserrat */
  h1, h2, h3, h4, h5, h6 {
    font-family: theme('fontFamily.heading');
    font-weight: 600;
  }

  /* Interactive elements should use pointer (hand) cursor - iOS 26 style */
  button,
  a,
  [role="button"],
  [role="tab"],
  [role="option"],
  [role="group"] button,
  summary,
  input[type="button"],
  input[type="submit"],
  input[type="reset"],
  input[type="checkbox"],
  input[type="radio"],
  label[for],
  details summary {
    cursor: pointer;
  }

  details summary::-webkit-details-marker {
    display: none;
  }

  details summary::marker {
    content: "";
  }

  /* Select elements should also use pointer */
  select {
    cursor: pointer;
  }

  /* Ensure all clickable/interactive elements show hand cursor */
  .cursor-pointer,
  [onclick],
  [data-interactive="true"] {
    cursor: pointer;
  }

  /* Interactive tags and navigation items */
  button[class*="glass"],
  a[class*="glass"],
  [role="tab"],
  [role="button"] {
    cursor: pointer;
  }
}


/* Simplified Glass Morphism utilities */
@layer utilities {
  /* Base glass effect - single class with opacity/blur modifiers */
  .glass {
    position: relative;
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.9) 0%, rgba(255, 255, 255, 0.5) 50%, rgba(255, 255, 255, 0.2) 100%);
    backdrop-filter: blur(24px) saturate(180%);
    -webkit-backdrop-filter: blur(24px) saturate(180%);
    border: 1px solid rgba(255, 255, 255, 0.6);
    border-top: 1px solid rgba(255, 255, 255, 0.8);
    border-left: 1px solid rgba(255, 255, 255, 0.75);
    box-shadow: 
      0 8px 32px rgba(0, 0, 0, 0.1),
      inset 0 1px 0 rgba(255, 255, 255, 0.7),
      inset 0 -1px 0 rgba(0, 0, 0, 0.1);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    will-change: transform, opacity;
    transform: translateZ(0);
  }

  /* Opacity variants */
  .glass-light {
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.95) 0%, rgba(255, 255, 255, 0.7) 50%, rgba(255, 255, 255, 0.4) 100%);
    backdrop-filter: blur(32px) saturate(200%);
    -webkit-backdrop-filter: blur(32px) saturate(200%);
    border-color: rgba(255, 255, 255, 0.75);
    border-top-color: rgba(255, 255, 255, 0.9);
    border-left-color: rgba(255, 255, 255, 0.85);
  }

  .glass-card {
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.96) 0%, rgba(255, 255, 255, 0.7) 50%, rgba(255, 255, 255, 0.3) 100%);
    backdrop-filter: blur(28px) saturate(195%);
    -webkit-backdrop-filter: blur(28px) saturate(195%);
    border-color: rgba(255, 255, 255, 0.7);
    cursor: default;
  }

  .glass-modal {
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.75) 0%, rgba(255, 255, 255, 0.45) 50%, rgba(255, 255, 255, 0.2) 100%);
    backdrop-filter: blur(60px) saturate(180%);
    -webkit-backdrop-filter: blur(60px) saturate(180%);
    border-color: rgba(255, 255, 255, 0.45);
  }

  /* Accent color variant */
  .glass-accent {
    background: linear-gradient(135deg, rgba(var(--accent-400), 0.95) 0%, rgba(var(--accent-500), 0.9) 50%, rgba(var(--accent-600), 0.8) 100%);
    border-color: rgba(var(--accent-500), 0.9);
    border-top-color: rgba(var(--accent-400), 1);
    border-left-color: rgba(var(--accent-400), 0.95);
    box-shadow: 
      0 8px 32px rgba(var(--accent-500), 0.3),
      inset 0 1px 0 rgba(255, 255, 255, 0.3),
      inset 0 -1px 0 rgba(0, 0, 0, 0.2);
  }

  .glass-accent:hover {
    border-color: rgba(var(--accent-400), 0.95);
  }

  .glass-accent:active {
    background: linear-gradient(135deg, rgba(var(--accent-400), 1) 0%, rgba(var(--accent-500), 0.95) 50%, rgba(var(--accent-600), 0.85) 100%);
  }

  /* Interactive states */
  .glass:hover {
    border-color: rgba(255, 255, 255, 0.7);
  }

  .glass:active {
    box-shadow: 
      0 4px 20px rgba(0, 0, 0, 0.08),
      inset 0 1px 0 rgba(255, 255, 255, 0.6);
  }

  /* Focus states */
  .glass:focus-visible,
  .glass-light:focus-visible,
  .glass-card:focus-visible,
  .glass-modal:focus-visible,
  .glass-accent:focus-visible {
    outline: 2px solid rgba(var(--accent-400), 0.6);
    outline-offset: 2px;
  }

  /* Hover utilities */
  .glass-hover {
    transition: background 0.25s ease, border-color 0.25s ease;
  }

  .glass-hover:hover {
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.5) 0%, rgba(255, 255, 255, 0.35) 50%, rgba(255, 255, 255, 0.25) 100%);
    border-color: rgba(255, 255, 255, 0.65);
  }

  .glass-hover-accent {
    transition: background 0.25s ease, border-color 0.25s ease, color 0.25s ease;
  }

  .glass-hover-accent:hover {
    background: linear-gradient(135deg, rgba(var(--accent-500), 0.85) 0%, rgba(var(--accent-500), 0.75) 50%, rgba(var(--accent-500), 0.65) 100%);
    border-color: rgba(var(--accent-400), 0.8);
    color: #fff;
  }

  /* Reduced motion */
  @media (prefers-reduced-motion: reduce) {
    .glass,
    .glass-light,
    .glass-card,
    .glass-modal,
    .glass-accent,
    .glass-hover,
    .glass-hover-accent {
      transition: none;
    }
  }
}
