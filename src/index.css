@tailwind base;
@tailwind components;
@tailwind utilities;

/* CSS Custom Properties for Theming - uses Tailwind tokens */
@layer base {
  :root {
    /* Accent colors from Tailwind config - RGB format for rgba() usage */
    /* Using emerald as primary accent */
    --accent-400: 69, 147, 87;      /* emerald-400 - #459357 */
    --accent-500: 92, 178, 112;     /* emerald-500 - #5cb270 */
    --accent-600: 125, 194, 141;    /* emerald-600 - #7dc28d */
    --accent-700: 157, 209, 169;    /* emerald-700 - #9dd1a9 */
    
    /* Secondary colors - RGB format for rgba() usage */
    /* Using canary_yellow as secondary accent */
    --secondary-400: 239, 235, 39;  /* canary_yellow-400 - #efeb27 */
    --secondary-500: 244, 242, 105; /* canary_yellow-500 - #f4f269 */
    --secondary-600: 246, 244, 134; /* canary_yellow-600 - #f6f486 */
    
    /* To change accent color, update both tailwind.config.js and these values */
  }

  /* Make labels and headers unselectable */
  h1, h2, h3, h4, h5, h6,
  label,
  .select-none {
    user-select: none;
    -webkit-user-select: none;
  }

  /* Font families */
  body {
    font-family: theme('fontFamily.body');
    font-size: 16px; /* Base 16px for accessibility */
    line-height: 1.5;
    position: relative;
    min-height: 100vh;
    background-color: #f8fafc; /* Light base color */
  }

  /* SVG background with ~60% opacity using pseudo-element */
  body::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-image: url('/bg.svg');
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
    background-attachment: fixed;
    opacity: 0.6;
    z-index: -1;
    pointer-events: none;
  }

  /* Headings use Montserrat */
  h1, h2, h3, h4, h5, h6 {
    font-family: theme('fontFamily.heading');
    font-weight: 600;
  }

  /* Interactive elements should use pointer (hand) cursor - iOS 26 style */
  button,
  a,
  [role="button"],
  [role="tab"],
  [role="option"],
  [role="group"] button,
  summary,
  input[type="button"],
  input[type="submit"],
  input[type="reset"],
  input[type="checkbox"],
  input[type="radio"],
  label[for],
  details summary {
    cursor: pointer;
  }

  details summary::-webkit-details-marker {
    display: none;
  }

  details summary::marker {
    content: "";
  }

  /* Select elements should also use pointer */
  select {
    cursor: pointer;
  }

  /* Ensure all clickable/interactive elements show hand cursor */
  .cursor-pointer,
  [onclick],
  [data-interactive="true"] {
    cursor: pointer !important;
  }

  /* Interactive tags and navigation items */
  button[class*="glass-ios"],
  a[class*="glass-ios"],
  [role="tab"],
  [role="button"] {
    cursor: pointer !important;
  }
}


/* iOS 26 Liquid Glass utilities - Enhanced with proper layering (highlight, shadow, illumination) */
@layer utilities {
  /* Base glass effect with three-layer system: highlight, shadow, illumination */
  .glass-ios {
    position: relative;
    /* Illumination layer - base material properties */
    background: linear-gradient(
      135deg,
      rgba(255, 255, 255, 0.9) 0%,
      rgba(255, 255, 255, 0.55) 40%,
      rgba(255, 255, 255, 0.16) 100%
    );
    /* Refraction effect - bends and warps light */
    backdrop-filter: blur(24px) saturate(190%) brightness(1.12) contrast(1.05);
    -webkit-backdrop-filter: blur(24px) saturate(190%) brightness(1.12) contrast(1.05);
    /* Highlight layer - light casting */
    border: 1px solid rgba(255, 255, 255, 0.6);
    border-top: 1px solid rgba(255, 255, 255, 0.85);
    border-left: 1px solid rgba(255, 255, 255, 0.8);
    /* Shadow layer - depth and separation */
    box-shadow: 
      /* Outer shadow for depth */
      0 8px 32px 0 rgba(0, 0, 0, 0.12),
      0 2px 8px 0 rgba(0, 0, 0, 0.08),
      /* Inner highlight - top light */
      inset 0 1px 2px 0 rgba(255, 255, 255, 0.75),
      inset 0 0 1px 0 rgba(255, 255, 255, 0.65),
      /* Inner shadow - bottom depth */
      inset 0 -1px 2px 0 rgba(0, 0, 0, 0.12),
      inset 0 -2px 4px 0 rgba(255, 255, 255, 0.18);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .glass-ios:hover {
    border-color: rgba(255, 255, 255, 0.7);
  }

  .glass-ios:active {
    box-shadow: 
      0 4px 20px 0 rgba(0, 0, 0, 0.1),
      inset 0 1px 1px 0 rgba(255, 255, 255, 0.6),
      inset 0 -1px 1px 0 rgba(255, 255, 255, 0.25);
  }

  /* Light variant - more opaque with enhanced layering */
  .glass-ios-light {
    position: relative;
    background: linear-gradient(
      135deg,
      rgba(255, 255, 255, 0.95) 0%,
      rgba(255, 255, 255, 0.7) 45%,
      rgba(255, 255, 255, 0.35) 100%
    );
    backdrop-filter: blur(32px) saturate(200%) brightness(1.2) contrast(1.1);
    -webkit-backdrop-filter: blur(32px) saturate(200%) brightness(1.2) contrast(1.1);
    border: 1px solid rgba(255, 255, 255, 0.75);
    border-top: 1px solid rgba(255, 255, 255, 0.9);
    border-left: 1px solid rgba(255, 255, 255, 0.85);
    box-shadow: 
      0 8px 32px 0 rgba(0, 0, 0, 0.1),
      0 2px 8px 0 rgba(0, 0, 0, 0.06),
      inset 0 1px 2px 0 rgba(255, 255, 255, 0.8),
      inset 0 0 1px 0 rgba(255, 255, 255, 0.7),
      inset 0 -1px 2px 0 rgba(0, 0, 0, 0.08),
      inset 0 -2px 4px 0 rgba(255, 255, 255, 0.25);
  }

  .glass-ios-light:hover {
    border-color: rgba(255, 255, 255, 0.85);
  }

  .glass-ios-light:active {
    box-shadow: 
      0 4px 20px 0 rgba(0, 0, 0, 0.08),
      inset 0 1px 1px 0 rgba(255, 255, 255, 0.75),
      inset 0 -1px 1px 0 rgba(255, 255, 255, 0.25);
  }

  /* Card variant - enhanced for content cards with full layering */
  .glass-ios-card {
    position: relative;
    background: linear-gradient(
      135deg,
      rgba(255, 255, 255, 0.96) 0%,
      rgba(255, 255, 255, 0.7) 40%,
      rgba(255, 255, 255, 0.28) 100%
    );
    backdrop-filter: blur(28px) saturate(195%) brightness(1.15) contrast(1.08);
    -webkit-backdrop-filter: blur(28px) saturate(195%) brightness(1.15) contrast(1.08);
    border: 1px solid rgba(255, 255, 255, 0.72);
    border-top: 1px solid rgba(255, 255, 255, 0.9);
    border-left: 1px solid rgba(255, 255, 255, 0.85);
    box-shadow: 
      0 10px 40px 0 rgba(0, 0, 0, 0.12),
      0 3px 10px 0 rgba(0, 0, 0, 0.08),
      inset 0 1px 2px 0 rgba(255, 255, 255, 0.85),
      inset 0 0 1px 0 rgba(255, 255, 255, 0.7),
      inset 0 -1px 2px 0 rgba(0, 0, 0, 0.1),
      inset 0 -2px 4px 0 rgba(255, 255, 255, 0.22);
    cursor: default;
  }

  /* Modal variant - iOS 26 liquid glass with proper transparency */
  .glass-ios-modal {
    position: relative;
    background: linear-gradient(
      135deg,
      rgba(255, 255, 255, 0.75) 0%,
      rgba(255, 255, 255, 0.45) 45%,
      rgba(255, 255, 255, 0.2) 100%
    );
    backdrop-filter: blur(60px) saturate(180%) brightness(1.1) contrast(1.05);
    -webkit-backdrop-filter: blur(60px) saturate(180%) brightness(1.1) contrast(1.05);
    border: 1px solid rgba(255, 255, 255, 0.45);
    border-top: 1px solid rgba(255, 255, 255, 0.7);
    border-left: 1px solid rgba(255, 255, 255, 0.65);
    /* keep background-color very subtle so we don't kill the gradient */
    background-color: rgba(255, 255, 255, 0.05);
    box-shadow: 
      0 24px 70px 0 rgba(0, 0, 0, 0.15),
      0 8px 20px 0 rgba(0, 0, 0, 0.1),
      inset 0 2px 4px 0 rgba(255, 255, 255, 0.6),
      inset 0 0 2px 0 rgba(255, 255, 255, 0.5),
      inset 0 -2px 4px 0 rgba(0, 0, 0, 0.08),
      inset 0 -3px 8px 0 rgba(255, 255, 255, 0.22);
  }

  /* Green accent variant with proper layering - using CSS variables */
  .glass-ios-accent {
    position: relative;
    background: linear-gradient(
      135deg,
      rgba(var(--accent-400), 0.95) 0%,
      rgba(var(--accent-500), 0.9) 45%,
      rgba(var(--accent-600), 0.8) 100%
    );
    backdrop-filter: blur(24px) saturate(200%) brightness(1.1) contrast(1.1);
    -webkit-backdrop-filter: blur(24px) saturate(200%) brightness(1.1) contrast(1.1);
    border: 1px solid rgba(var(--accent-500), 0.9);
    border-top: 1px solid rgba(var(--accent-400), 1);
    border-left: 1px solid rgba(var(--accent-400), 0.95);
    box-shadow: 
      0 8px 32px 0 rgba(var(--accent-500), 0.35),
      0 2px 8px 0 rgba(var(--accent-500), 0.25),
      inset 0 1px 2px 0 rgba(255, 255, 255, 0.3),
      inset 0 0 1px 0 rgba(255, 255, 255, 0.25),
      inset 0 -1px 2px 0 rgba(0, 0, 0, 0.2),
      inset 0 -2px 4px 0 rgba(var(--accent-600), 0.35);
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .glass-ios-accent:hover {
    border-color: rgba(var(--accent-400), 0.95);
  }

  .glass-ios-accent:active {
    background: linear-gradient(
      135deg,
      rgba(var(--accent-400), 1) 0%,
      rgba(var(--accent-500), 0.95) 45%,
      rgba(var(--accent-600), 0.85) 100%
    );
    box-shadow: 
      0 4px 20px 0 rgba(var(--accent-500), 0.3),
      inset 0 1px 1px 0 rgba(255, 255, 255, 0.2),
      inset 0 -1px 1px 0 rgba(0, 0, 0, 0.25);
  }

  /* Yellow / secondary accent variant */
  .glass-ios-orange {
    position: relative;
    background: linear-gradient(
      135deg,
      rgba(var(--secondary-400), 0.95) 0%,
      rgba(var(--secondary-500), 0.9) 45%,
      rgba(var(--secondary-600), 0.85) 100%
    );
    backdrop-filter: blur(24px) saturate(200%) brightness(1.1) contrast(1.1);
    -webkit-backdrop-filter: blur(24px) saturate(200%) brightness(1.1) contrast(1.1);
    border: 1px solid rgba(var(--secondary-500), 0.9);
    border-top: 1px solid rgba(var(--secondary-400), 1);
    border-left: 1px solid rgba(var(--secondary-400), 0.95);
    box-shadow: 
      0 8px 32px 0 rgba(var(--secondary-500), 0.35),
      0 2px 8px 0 rgba(var(--secondary-500), 0.25),
      inset 0 1px 2px 0 rgba(255, 255, 255, 0.3),
      inset 0 0 1px 0 rgba(255, 255, 255, 0.25),
      inset 0 -1px 2px 0 rgba(0, 0, 0, 0.2),
      inset 0 -2px 4px 0 rgba(var(--secondary-600), 0.35);
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .glass-ios-orange:hover {
    border-color: rgba(var(--secondary-400), 0.95);
  }

  .glass-ios-orange:active {
    background: linear-gradient(
      135deg,
      rgba(var(--secondary-400), 1) 0%,
      rgba(var(--secondary-500), 0.95) 45%,
      rgba(var(--secondary-600), 0.9) 100%
    );
    box-shadow: 
      0 4px 20px 0 rgba(var(--secondary-500), 0.3),
      inset 0 1px 1px 0 rgba(255, 255, 255, 0.2),
      inset 0 -1px 1px 0 rgba(0, 0, 0, 0.25);
  }

  /* Focus states for accessibility */
  .glass-ios:focus-visible,
  .glass-ios-light:focus-visible,
  .glass-ios-card:focus-visible,
  .glass-ios-accent:focus-visible,
  .glass-ios-orange:focus-visible {
    outline: 2px solid rgba(var(--accent-400), 0.6);
    outline-offset: 2px;
    box-shadow: 
      0 8px 32px 0 rgba(0, 0, 0, 0.12),
      inset 0 1px 1px 0 rgba(255, 255, 255, 0.5),
      inset 0 -1px 1px 0 rgba(255, 255, 255, 0.2),
      0 0 0 2px rgba(var(--accent-400), 0.3);
  }

  .glass-hover {
    transition: background 0.25s ease, border-color 0.25s ease, color 0.25s ease;
  }

  .glass-hover:hover {
    background: linear-gradient(
      135deg,
      rgba(255, 255, 255, 0.45) 0%,
      rgba(255, 255, 255, 0.35) 50%,
      rgba(255, 255, 255, 0.28) 100%
    );
    border-color: rgba(255, 255, 255, 0.65);
  }

  .glass-hover-accent {
    transition: background 0.25s ease, border-color 0.25s ease, color 0.25s ease;
  }

  .glass-hover-accent:hover {
    background: linear-gradient(
      135deg,
      rgba(var(--accent-500), 0.85) 0%,
      rgba(var(--accent-500), 0.78) 50%,
      rgba(var(--accent-500), 0.72) 100%
    );
    border-color: rgba(var(--accent-400), 0.8);
    box-shadow:
      0 8px 24px 0 rgba(var(--accent-600), 0.3),
      inset 0 1px 1px 0 rgba(255, 255, 255, 0.25);
    color: #fff;
  }
}
